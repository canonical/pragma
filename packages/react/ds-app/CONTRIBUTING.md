## Canonical Design System - React Core - Contribution Documentation

This package provides an overview of the contribution process for the React Core package of Canonical's Design System.

## 1. Getting Started

Follow the [repository setup](../../../guides/CONTRIBUTING.md) guide to set up your development environment.

Once the repository is set up, navigate to the `packages/react/ds-core` package directory and run `bun run storybook` to
start
the Storybook server.

Open the Storybook server at [http://localhost:6006](http://localhost:6006) to view the components and their
documentation.

Storybook will automatically reload when you make changes to the components, using Vite HMR.

### 1.1 Building a component

The [react component generator](../../generator-ds/src/component/README.md) provides a CLI to generate new components.
To create a new component, [install Yeoman](../../generator-ds/README.md), then navigate to the component root directory
`src/ui`.
Run `yo @canonical/ds:component MyNewComponent` to generate a new component.
You can also run `yo @canonical/ds:component --help` to see more available options, such as generating a component with
a story and/or CSS file included.

Components should follow this basic structure:

```
ds-core/
├── src/                   
│   ├── ui/                                                 # Root directory of all React components.
│   │   ├── GenericComponent/                               # Example component directory.
│   │   │   │── common/                                     # (TBG) (OPT) Child components. 
│   │   │   │── hooks/                                      # (TBG) (OPT) Custom hooks used by the component
│   │   │   │   ├── useGenericHook.ts                       # Example custom hook
│   │   │   │   ├── index.ts                                # Exports public API of hooks
│   │   │   │── utils/                                      # (TBG) (OPT) Utility functions used by the component
│   │   │   │   ├── performSomeAction.ts                    # Utils domain-specific function
│   │   │   │   ├── index.ts                                # Exports public API of utils
│   │   │   ├── fixtures.tsx                                # (TBG) (OPT) Mock test data
│   │   │   ├── *(GenericComponent|Provider).stories.tsx    # (OPT) Storybook stories
│   │   │   ├── *(GenericComponent|Provider).tests.tsx      # Unit tests
│   │   │   ├── *(GenericComponent|Provider).tsx            # Component implementation.
│   │   │   ├── index.ts                                    # Exports public API of the component
│   │   │   ├── styles.css                                  # (OPT) Component-specific CSS styles
│   │   │   └── types.ts                                    # TypeScript types for the component
│   │   └── index.ts                                        # Exports public API of components
│   └── index.ts                                            # Main entry point for the library, exporting components
```

| Notation | Description                                                                                                                                                              |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `TBG`    | To Be Generated. These components/directories are not yet generated by the React component generator, but may be added in the future.                                    |
| `OPT`    | Optional. These components/directories are not required for every component.                                                                                             |
| `*`      | The `Provider` file name prefix is used when the component's primary purpose is to provide context to its children. Otherwise, the component name (folder name) is used. |

### 1.2 Testing

To test your changes, run `bun run test` to run the Vitest test suite. This will run Vitest once.
It may also be helpful to run `bun run test:watch` to run Vitest in watch mode, which will re-run the tests when you
make changes to the code.
