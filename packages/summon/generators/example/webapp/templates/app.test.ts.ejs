// Generated by summon webapp
// Tests for <%= name %>

import { describe, it, expect } from 'vitest';

describe('<%= pascalCase(name) %>', () => {
  it('should pass a basic test', () => {
    expect(true).toBe(true);
  });

<% if (hasState && framework === 'react') { -%>
  describe('App Store', () => {
    it('should initialize with count of 0', async () => {
      const { useAppStore } = await import('../src/state');
      const { count } = useAppStore.getState();
      expect(count).toBe(0);
    });

    it('should increment count', async () => {
      const { useAppStore } = await import('../src/state');
      const { increment } = useAppStore.getState();
      increment();
      expect(useAppStore.getState().count).toBe(1);
    });

    it('should decrement count', async () => {
      const { useAppStore } = await import('../src/state');
      const store = useAppStore.getState();
      store.reset();
      store.decrement();
      expect(useAppStore.getState().count).toBe(-1);
    });
  });
<% } -%>

<% if (hasApi) { -%>
  describe('API Client', () => {
    it('should be configured with base URL', async () => {
      const { api } = await import('../src/api');
      expect(api).toBeDefined();
    });
  });
<% } -%>

<% if (hasLogging) { -%>
  describe('Logger', () => {
    it('should log messages', async () => {
      const { logger } = await import('../src/logging');
      logger.info('Test message');
      const history = logger.getHistory();
      expect(history.length).toBeGreaterThan(0);
      expect(history[history.length - 1].message).toBe('Test message');
    });

    it('should clear history', async () => {
      const { logger } = await import('../src/logging');
      logger.info('Another message');
      logger.clearHistory();
      expect(logger.getHistory().length).toBe(0);
    });
  });
<% } -%>
});
